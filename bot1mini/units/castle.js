import {BCAbstractRobot, SPECS} from 'battlecode';import search from '../search.js';import signal from '../signals.js';import qmath from '../math.js';import base from '../base.js';function mind(e){var t=e.getVisibleRobotMap(),s=e.getPassableMap(),i=e.getVisibleRobots(),a=e.map,l=e.map.length,n="",u=(e.me.team+1)%2,r=(e.getVisibleRobotMap(),e.getKarboniteMap()),o=e.getFuelMap();if(1===e.me.turn){e.occupiedMiningLocationsIndices={},e.rallyTargets={},e.lastRallySignal=-1,e.castleHasScout=!1,e.myScoutsId=-1,e.sentContestableBot=!1,e.newIndices=[],e.finalSignal=!1,e.minKarbonite=200,e.minFuel=50;var c=0;e.castleNum=0,90===e.karbonite?(c=1,e.castleNum=1):80===e.karbonite&&(c=2,e.castleNum=2),e.castles=i.length-c,e.castleCount=e.castles,e.maxScoutingPilgrims=e.castleCount,e.currentScoutingPilgrims=0,e.mapIsHorizontal=search.horizontalSymmetry(a),e.initializeCastleLocations(),e.stackFuel=!1,e.oppositeCastleDestroyed=!1,e.pastBuildQueue=[];for(var h=null,p=999999,m=0;m<l;m++)for(var d=0;d<l;d++)if(!0===o[m][d]&&(e.fuelSpots.push({x:d,y:m}),e.allSpots.push({x:d,y:m,type:"fuel"})),!0===r[m][d]){e.karboniteSpots.push({x:d,y:m}),e.allSpots.push({x:d,y:m,type:"karbonite"});var f=qmath.dist(d,m,e.me.x,e.me.y);f<p&&(p=f,h=[d,m])}var g=e.fuelSpots.length;e.maxPilgrims=Math.ceil((g+e.karboniteSpots.length)/2),e.maxHalf=Math.ceil((g+e.karboniteSpots.length)/2),e.mapIsHorizontal?(e.halfPoint=l/2,e.me.y<l/2?e.lowerHalf=!0:e.lowerHalf=!1):(e.halfPoint=l/2,e.me.x<l/2?e.lowerHalf=!0:e.lowerHalf=!1),e.contestableSpots=[];for(m=0;m<e.karboniteSpots.length;m++){var S,b=e.karboniteSpots[m];S=e.mapIsHorizontal?[b.x,l-b.y-1]:[l-b.x-1,b.y],ownHalf(e,b.x,b.y)&&qmath.dist(b.x,b.y,S[0],S[1])<=64&&e.contestableSpots.push(b)}e.closestContestableSpot=null,e.status="build",e.canBuildPilgrims=!0,e.initialCastleLocationMessages={};e.castleIds=[];for(m=0;m<i.length;m++){(v=i[m].castle_talk)>=0&&(e.allUnits[i[m].id]={},e.allUnits[i[m].id].unit=0,e.allUnits[i[m].id].type="default",1,e.castleIds.push(i[m].id),e.initialCastleLocationMessages[i[m].id]={},e.initialCastleLocationMessages[i[m].id].x=-1,e.initialCastleLocationMessages[i[m].id].y=-1),e.sawEnemyLastTurn=!1}null!==e.closestContestableSpot?3===e.castles?0===c?e.buildQueue.push(2,2):1===c?e.buildQueue.push(2):2===c&&e.buildQueue.push(2):2===e.castles?0===c?e.buildQueue.push(2,2):1===c&&e.buildQueue.push(2):1===e.castles&&e.buildQueue.push(2,2,2):3===e.castles?0===c?e.buildQueue.push(2,2):1===c?e.buildQueue.push(2):2===c&&e.buildQueue.push(2):2===e.castles?0===c?e.buildQueue.push(2,2):1===c&&e.buildQueue.push(2,2):1===e.castles&&e.buildQueue.push(2,2,2,2);var y=[e.knownStructures[u][0].x,e.knownStructures[u][0].y],P=search.circle(e,e.me.x,e.me.y,2),E=y[0],x=y[1],Q=[];e.buildingAttackUnitPositions=[],e.buildingPilgrimPositions=[];for(m=0;m<P.length;m++)P[m][0]===e.me.x&&P[m][1]===e.me.y||Q.push({pos:P[m],dist:qmath.dist(P[m][0],P[m][1],E,x)});Q.sort(function(e,t){return e.dist-t.dist}),e.buildingAttackUnitPositions=Q.map(function(e){return e.pos}),Q=[],E=h[0],x=h[1];for(m=0;m<P.length;m++)P[m][0]===e.me.x&&P[m][1]===e.me.y||Q.push({pos:P[m],dist:qmath.dist(P[m][0],P[m][1],E,x)});Q.sort(function(e,t){return e.dist-t.dist}),e.buildingPilgrimPositions=Q.map(function(e){return e.pos})}if(e.me.turn<=3){if(1===e.me.turn){var C=e.me.x+192;e.castleTalk(C)}else if(2===e.me.turn){var k=e.me.y+192;e.castleTalk(k)}for(m=0;m<i.length;m++){for(var v=i[m].castle_talk,R=i[m].id,M=!1,H=0;H<e.castleIds.length;H++)if(R===e.castleIds[H]){M=!0;break}M&&v>=192&&(-1===e.initialCastleLocationMessages[R].x?e.initialCastleLocationMessages[R].x=v-192:e.initialCastleLocationMessages[R].y=v-192)}}var T=!1,I=!1;if(3===e.me.turn){I=!0;var w=!0;e.enemyCastlesSorted=[];for(m=0;m<e.castleIds.length;m++){var L=e.castleIds[m],U=e.initialCastleLocationMessages[L].x,A=e.initialCastleLocationMessages[L].y;if(-1!==U&&-1!==A){base.logStructure(e,U,A,e.me.team,0);var K=U,O=l-A-1,q=Math.abs(O-A);e.mapIsHorizontal||(K=l-U-1,O=A,q=Math.abs(K-U)),q<=31&&(w=!1),base.logStructure(e,K,O,u,0)}}for(m=0;m<i.length;m++){76===(v=i[m].castle_talk)&&(I=!1)}if(!0===I){var B=99999,F=99998,N=null,D=[];for(m=1;m<e.knownStructures[e.me.team].length;m++){var _=e.knownStructures[e.me.team][m];D.push([_.x,_.y])}for(m=0;m<e.contestableSpots.length;m++){b=e.contestableSpots[m];var z=qmath.dist(b.x,b.y,e.me.x,e.me.y);B>=z&&(B=z,N=b);for(m=0;m<D.length;m++){var V=D[m][0],G=D[m][1],j=qmath.dist(b.x,b.y,V,G);F>=j&&(F=j)}}B<=F&&(e.castleTalk(76),e.closestContestableSpot=N,T=!0)}!0===w&&e.buildQueue.push(2,2)}e.status="build",e.canBuildPilgrims=!0,e.canBuildPreachers=!0,e.stackFuel=!1,e.stackKarbonite=!1,e.numPilgrimsMiningKarbonite=0,e.numPilgrimsMiningFuel=0;var J=[];e.searchQueue=[];for(m=0;m<e.fuelSpots.length;m++){if(safeDeposit(e,U=e.fuelSpots[m].x,A=e.fuelSpots[m].y)){var W=[],X=0;X=null!==e.planner?e.planner.search(e.me.y,e.me.x,A,U,W):qmath.dist(e.me.x,e.me.y,U,A),e.searchQueue.push({position:[U,A],distance:X,type:"fuel"})}}for(m=0;m<e.karboniteSpots.length;m++){var Y=!0;if(safeDeposit(e,U=e.karboniteSpots[m].x,A=e.karboniteSpots[m].y)){W=[],X=0;X=null!==e.planner?e.planner.search(e.me.y,e.me.x,A,U,W):qmath.dist(e.me.x,e.me.y,U,A),e.searchQueue.push({position:[U,A],distance:X,type:"karbonite"})}}for(m=0;m<i.length;m++){v=i[m].castle_talk;var Z=i[m].id;if(v>=77&&void 0!==e.allUnits[Z]&&(e.allUnits[Z].unit===SPECS.PROPHET||e.allUnits[Z].unit===SPECS.PILGRIM&&"miner"===e.allUnits[Z].type)){var $=v-77,ee=e.allSpots[$];X=qmath.dist(e.me.x,e.me.y,ee.x,ee.y);e.allSpots[$].safe=!0,e.searchQueue.push({position:[ee.x,ee.y],distance:X,type:ee.type})}}var te=[];for(m=0;m<e.searchQueue.length;m++){var se=!0,ie=e.searchQueue[m],ae=ie.position;for(d=0;d<te.length;d++){var le=te[d];if(le.position[0]===ae[0]&&le.position[1]===ae[1]){se=!1;break}}!0===se&&te.push(ie)}e.searchQueue=te,e.searchQueue.sort(function(e,t){return e.distance-t.distance}),e.maxPilgrims=Math.max(e.searchQueue.length,e.maxHalf);for(var ne in e.occupiedMiningLocationsIndices){var ue=e.occupiedMiningLocationsIndices[ne];"fuel"===e.allSpots[ue].type?e.numPilgrimsMiningFuel+=1:"karbonite"===e.allSpots[ue].type&&(e.numPilgrimsMiningKarbonite+=1)}var re=[];if(e.me.turn>3){for(m=0;m<i.length;m++){v=i[m].castle_talk,Z=i[m].id;v>=77&&void 0!==e.allUnits[Z]&&(e.allUnits[Z].unit!==SPECS.CASTLE&&e.allUnits[Z].unit!==SPECS.CHURCH||e.newIndices.push({msg:v-77,turn:e.me.turn}))}var oe=[];for(m=0;m<e.newIndices.length;m++){var ce=e.newIndices[m];e.me.turn-ce.turn<=1&&oe.push(ce)}e.newIndices=oe;for(m=0;m<e.searchQueue.length;m++){var he=e.searchQueue[m].position,pe=!0;for(var ne in e.occupiedMiningLocationsIndices){ue=e.occupiedMiningLocationsIndices[ne];if(he[0]===e.allSpots[ue].x&&he[1]===e.allSpots[ue].y){pe=!1;break}}if(!0===pe)for(H=0;H<e.newIndices.length;H++){ue=e.newIndices[H].msg;if(he[0]===e.allSpots[ue].x&&he[1]===e.allSpots[ue].y){pe=!1;break}}!0===pe&&re.push(e.searchQueue[m])}e.searchQueue=re}e.searchQueueFuel=e.searchQueue.filter(function(e){return"fuel"===e.type}),e.searchQueueKarbonite=e.searchQueue.filter(function(e){return"karbonite"===e.type});for(m=0;m<i.length;m++){v=i[m].castle_talk,i[m].signal;J.push(i[m].id);var me=i[m].id;if(signal.processMessageCastleTalk(e,v,me),v>=0&&void 0===e.allUnits[me]&&(e.allUnits[me]={}),v>=77&&v<=236&&e.allUnits[me].unit===SPECS.PILGRIM&&"miner"===e.allUnits[me].type&&(e.allUnits[me].mineLoc=v-77,e.occupiedMiningLocationsIndices[me]=e.allUnits[me].mineLoc),v>=1){if("scout"===e.allUnits[me].type)if(v>=7&&v<=70)e.rallyTargets[me].position[0]=v-7;else if(v>=71&&v<=134)e.rallyTargets[me].position[1]=v-71;else if(6===v){var de=e.getRobot(me);null!==de&&qmath.dist(e.me.x,e.me.y,de.x,de.y)<=16&&(e.myScoutsId=me)}if("default"===e.allUnits[me].type||"miner"===e.allUnits[me].type)if(v>=7&&v<=70){var fe=v-7;for(m=0;m<e.knownStructures[u].length;m++)if(e.mapIsHorizontal){if(e.knownStructures[u][m].x===fe){fe===e.me.x&&(e.oppositeCastleDestroyed=!0),e.knownStructures[u].splice(m,1);break}}else if(e.knownStructures[u][m].y===fe){fe===e.me.y&&(e.oppositeCastleDestroyed=!0),e.knownStructures[u].splice(m,1);break}for(m=0;m<e.knownStructures[u].length;m++);}else 71===v?(e.karbonite<=90&&(e.stackKarbonite=!0,e.buildQueue=[]),e.fuel<=200&&(e.stackFuel=!0,e.buildQueue=[])):72===v&&me!==e.me.id&&(e.status="pause")}}for(var ge in e.rallyTargets)H=e.rallyTargets[ge];e.castles=0,e.pilgrims=0,e.scouts=0,e.crusaders=0,e.churches=0,e.prophets=0,e.preachers=0,e.churchesThatBuild=0;for(var Z in e.allUnits){var Se=!1;for(H=0;H<J.length;H++)if(J[H]==Z){Se=!0;break}if(!0===Se)switch(e.allUnits[Z].unit){case 0:e.castles+=1;break;case 1:e.churches+=1;break;case 2:"scout"===e.allUnits[Z].type?e.scouts+=1:e.pilgrims+=1;break;case 3:e.crusaders+=1;break;case 4:e.prophets+=1;break;case 5:e.preachers+=1;break;case 75:e.churchesThatBuild+=1}else delete e.occupiedMiningLocationsIndices[Z],delete e.allUnits[Z],delete e.rallyTargets[Z],Z==e.myScoutsId&&(e.castleHasScout=!1,e.myScoutsId=-1)}var be={0:[],1:[],2:[],3:[],4:[],5:[]},ye={0:0,1:0,2:0,3:0,4:0,5:0};for(m=0;m<i.length;m++){if((Ze=i[m]).team===e.me.team){(Ue=qmath.dist(e.me.x,e.me.y,Ze.x,Ze.y))<=100&&(be[Ze.unit].push(Ze),Ue>ye[Ze.unit]&&(ye[Ze.unit]=Ue))}}for(m=0;m<i.length;m++){v=i[m].castle_talk,me=i[m].id;if(4===i[m].signal&&i[m].team===e.me.team){var Pe=e.searchQueue,Ee=!1,xe=!1,Qe=i[m];!0===o[Qe.y][Qe.x]?Ee=!0:!0===r[Qe.y][Qe.x]&&(xe=!0);Y=!0;if(e.pilgrims<=e.maxPilgrims?e.numPilgrimsMiningFuel<e.fuelSpots.length/2&&(e.karbonite>100||e.fuel<70*e.prophets+10*e.pilgrims||e.fuel<=400+400*e.churches)?(e.signal(3,2),e.searchQueueFuel.length&&(Pe=e.searchQueueFuel),Ee&&(Y=!1)):e.numPilgrimsMiningKarbonite<e.karboniteSpots.length/2&&e.karbonite<=100?(e.signal(2,2),e.searchQueueKarbonite.length&&(Pe=e.searchQueueKarbonite),xe&&(Y=!1)):(e.signal(24584,2),(Ee||xe)&&(Y=!1)):e.signal(24584,2),Pe.length&&!0===Y){var Ce=28842,ke=getIndexAllSpots(e,Pe[0].position);e.signal(Ce+ke,2),e.castleTalk(77+ke)}else e.signal(24584,2)}if(135===v&&"scout"===e.allUnits[me].type&&be[SPECS.PROPHET].length>=12){var ve=null;if(void 0!==(je=e.rallyTargets[e.myScoutsId])&&void 0!==je.position&&null!==je.position[0]&&null!==je.position[1]&&(ve=je.position),null!==ve&&e.lastRallySignal<e.me.turn-5){Ce=29003;var Re=e.compressLocation(ve[0],ve[1]);e.signal(Ce+Re,64),e.lastRallySignal=e.me.turn}}}var Me=!1,He=!1,Te=null,Ie=1e3,we=!1,Le=!1;for(m=0;m<i.length;m++){if((Ze=i[m]).unit===SPECS.CRUSADER)var Ue=qmath.dist(e.me.x,e.me.y,Ze.x,Ze.y);else if(Ze.unit===SPECS.PREACHER)Ue=qmath.dist(e.me.x,e.me.y,Ze.x,Ze.y);else if(Ze.unit===SPECS.PROPHET)Ue=qmath.dist(e.me.x,e.me.y,Ze.x,Ze.y);if(Ze.team===u&&Ze.unit!==SPECS.PILGRIM){(Ue=qmath.dist(e.me.x,e.me.y,Ze.x,Ze.y))<Ie&&(Ze.unit===SPECS.PROPHET?we=!0:Ze.unit===SPECS.CRUSADER?He=!0:Ze.unit===SPECS.PREACHER&&(Le=!0),Te={x:Ze.x,y:Ze.y},Ie=Ue,Me=!0)}}var Ae=!1;if(!1===Me&&!0===e.sawEnemyLastTurn){var Ke=64;Ke=Math.min(Math.max(Math.pow(Math.ceil(Math.sqrt(Math.max(ye[SPECS.PROPHET],ye[SPECS.PREACHER]))),2),4),64),e.signal(16391,Ke)}if(!0===e.castleHasScout?(e.minKarbonite=900,e.minFuel=200):(e.minKarbonite=200,e.minFuel=50),e.castles>1)if(!1===Me&&e.me.turn>4&&!1===e.stackKarbonite&&!1===e.stackFuel)e.pilgrims<=e.maxPilgrims&&e.karbonite>=100?e.buildQueue=[2]:e.karbonite>=e.minKarbonite&&e.fuel>(e.prophets+e.preachers)*e.minFuel&&((be[SPECS.PROPHET].length<=e.prophets/e.castles||e.karbonite>e.minKarbonite+90)&&"pause"!==e.status&&(e.buildQueue=[4],e.prophets>15*e.crusaders&&(e.buildQueue=[3])),be[SPECS.PROPHET].length>=11&&!1===e.oppositeCastleDestroyed&&!0===e.castleHasScout||!1===e.castleHasScout&&be[SPECS.PROPHET].length>=11&&(Ae=!0,e.buildQueue=[2])),e.sawEnemyLastTurn=!1;else if(!0===Me){var Oe=e.compressLocation(Te.x,Te.y);Ce=12294;!0===we&&(Ce=16392);Ke=64;Ke=Math.min(Math.max(Math.pow(Math.ceil(Math.sqrt(Math.max(ye[SPECS.PROPHET],ye[SPECS.PREACHER]))),2),4),64),e.signal(Ce+Oe,Ke),e.sawEnemyLastTurn=!0,e.status="build",e.me.turn>0&&(!0===He?be[SPECS.PREACHER].length<1?e.buildQueue.unshift(5):e.buildQueue.unshift(4):!0===Le?be[SPECS.PROPHET].length<1?e.buildQueue.unshift(4):be[SPECS.PREACHER].length<1?e.buildQueue.unshift(5):e.fuel>=75*be[SPECS.PROPHET].length+125&&e.buildQueue.unshift(4):e.fuel>=200&&e.buildQueue.unshift(4))}else!1===Me&&(e.sawEnemyLastTurn=!1);else if(!1===Me&&e.me.turn>4&&!1===e.stackKarbonite&&!1===e.stackFuel){!0===e.sawEnemyLastTurn&&(e.signal(16391,64),e.buildQueue=[]);var qe=0;e.buildQueue.forEach(function(e){4===e&&(qe+=1)}),e.pilgrims<=e.maxPilgrims&&e.karbonite>=100?e.buildQueue=[2]:e.karbonite>=e.minKarbonite&&e.fuel>(e.prophets+e.preachers)*e.minFuel&&(e.buildQueue=[4],e.prophets>15*e.crusaders&&(e.buildQueue=[3]),be[SPECS.PROPHET].length>=11&&!1===e.oppositeCastleDestroyed&&!0===e.castleHasScout||!1===e.castleHasScout&&be[SPECS.PROPHET].length>=11&&(Ae=!0,e.buildQueue=[2])),e.sawEnemyLastTurn=!1}else if(!0===Me){Oe=e.compressLocation(Te.x,Te.y),Ce=12294;!0===we&&(Ce=16392);Ke=64;Ke=Math.min(Math.max(Math.pow(Math.ceil(Math.sqrt(Math.max(ye[SPECS.PROPHET],ye[SPECS.PREACHER]))),2),4),64),e.signal(Ce+Oe,Ke),e.sawEnemyLastTurn=!0,e.status="build",e.me.turn>0&&(!0===He?be[SPECS.PREACHER].length<1?e.buildQueue.unshift(5):e.buildQueue.unshift(4):!0===Le?be[SPECS.PROPHET].length<1?e.buildQueue.unshift(4):be[SPECS.PREACHER].length<1?e.buildQueue.unshift(5):e.fuel>=75*be[SPECS.PROPHET].length+125&&e.buildQueue.unshift(4):e.fuel>=200&&e.buildQueue.unshift(4))}else!1===Me&&(e.sawEnemyLastTurn=!1);if(e.me.turn>=920&&e.castles<e.castleCount&&!1===e.finalSignal){var Be=e.knownStructures[u][0];Oe=e.compressLocation(Be.x,Be.y),Ce=20488;e.finalSignal=!0,e.signal(Ce+Oe,100)}else e.me.turn>=920&&e.fuel>=1e3&&(e.buildQueue=[3]);if((e.fuel<=50*e.preachers+60*e.prophets||e.fuel<=100)&&!1===Me&&(e.status="pause"),"build"===e.status)if(!0===T&&e.buildQueue.unshift(4),-1!==e.buildQueue[0]){var Fe=!1,Ne=[];if(2===e.buildQueue[0]){Ne=e.buildingPilgrimPositions;var De=e.searchQueue;if(e.searchQueueKarbonite.length&&(De=e.searchQueueKarbonite),De.length){var _e=De[0].position,ze=Ne.map(function(e){return{pos:e,dist:qmath.dist(e[0],e[1],_e[0],_e[1])}});ze.sort(function(e,t){return e.dist-t.dist}),Ne=ze.map(function(e){return e.pos})}}else Ne=e.buildingAttackUnitPositions;if(4===e.buildQueue[0]&&Me&&(Fe=!0),!1===Fe)for(m=0;m<Ne.length;m++){if(canBuild(e,(We=Ne[m])[0],We[1],t,s)&&e.buildQueue.length>0&&enoughResourcesToBuild(e,e.buildQueue[0])){var Ve=e.buildQueue.shift();if(3===e.me.turn&&!0===I&&null!==e.closestContestableSpot){Ce=24586;var Ge=e.compressLocation(e.closestContestableSpot.x,e.closestContestableSpot.y);ke=getIndexAllSpots(e,[e.closestContestableSpot.x,e.closestContestableSpot.y]);e.signal(Ce+Ge,2),e.castleTalk(77+ke)}if(2===Ve&&e.searchQueue.length&&3!==e.me.turn&&!1===Ae)if(e.me.turn>3){Pe=e.searchQueue;e.searchQueueKarbonite.length&&(Pe=e.searchQueueKarbonite);Ce=28682,ke=getIndexAllSpots(e,Pe[0].position);2!==e.me.turn&&(e.signal(Ce+ke,2),e.castleTalk(77+ke))}else e.signal(2,2);else 2===Ve&&!0===Ae&&(e.signal(29002,2),e.castleHasScout=!0);if(3===Ve){var je;ve=null;if(void 0!==(je=e.rallyTargets[e.myScoutsId])&&null!==je.position[0]&&null!==je.position[1]&&(ve=je.position),null!==ve)Ce=29003,Re=e.compressLocation(ve[0],ve[1])}e.pastBuildQueue.push(Ve),e.pastBuildQueue.length>=10&&e.pastBuildQueue.shift();var Je=base.rel(e.me.x,e.me.y,We[0],We[1]);return n=e.buildUnit(Ve,Je.dx,Je.dy),{action:n}}}else if(!0===Fe)for(m=Ne.length-1;m>=0;m--){var We;if(canBuild(e,(We=Ne[m])[0],We[1],t,s)&&e.buildQueue.length>0&&enoughResourcesToBuild(e,e.buildQueue[0])){Ve=e.buildQueue.shift();e.pastBuildQueue.push(Ve),e.pastBuildQueue.length>=10&&e.pastBuildQueue.shift();Je=base.rel(e.me.x,e.me.y,We[0],We[1]);return n=e.buildUnit(Ve,Je.dx,Je.dy),{action:n}}}}else e.buildQueue.shift();e.status;var Xe=null,Ye=99999;for(m=0;m<i.length;m++){var Ze;if((Ze=i[m]).team!==e.me.team){var $e=qmath.dist(e.me.x,e.me.y,Ze.x,Ze.y);$e<Ye&&$e<=64&&(Ye=$e,Xe=Ze)}}if(null!==Xe){Je=base.rel(e.me.x,e.me.y,Xe.x,Xe.y);return{action:e.attack(Je.dx,Je.dy)}}return{action:"",status:"build",response:""}}function canBuild(e,t,s,i,a){return!(!search.inArr(t,s,i)||0!==i[s][t]||!0!==a[s][t])}function safeDeposit(e,t,s){if(ownHalf(e,t,s))return!0;e.getVisibleRobotMap();var i=search.unitsInRadius(e,64,e.me.team,t,s);if(i[SPECS.PROPHET].length+i[SPECS.PREACHER].length>=1)return!0;var a=search.findNearestStructure(e);return qmath.dist(t,s,a.x,a.y)<=9}function enoughResourcesToBuild(e,t){var s=SPECS.UNITS[t].CONSTRUCTION_FUEL,i=SPECS.UNITS[t].CONSTRUCTION_KARBONITE;return s<=e.fuel&&i<=e.karbonite}function ownHalf(e,t,s){var i=e.map,a=i.length;if(e.mapIsHorizontal){if(e.lowerHalf){if(s<a/2)return!0}else if(s>=a/2)return!0}else if(e.lowerHalf){if(t<i[0].length/2)return!0}else if(t>=i[0].length/2)return!0;return!1}function getIndexAllSpots(e,t){for(var s=0;s<e.allSpots.length;s++){var i=e.allSpots[s];if(i.x===t[0]&&i.y===t[1])return s}return null}export default {mind};